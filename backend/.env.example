# ====================================================================
# TOYSTORE BACKEND - ENVIRONMENT CONFIGURATION
# ====================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!
# ====================================================================

# ====================================================================
# SERVER CONFIGURATION
# ====================================================================
PORT=3000
NODE_ENV=development
# NODE_ENV=production

# CORS - Allow requests from frontend
CORS_ORIGIN=http://localhost:5173
# CORS_ORIGIN=https://yourdomain.com

# ====================================================================
# DATABASE CONFIGURATION (SQL Server / MSSQL)
# ====================================================================
DB_HOST=localhost
DB_PORT=1433
DB_NAME=toystore
DB_USER=sa
DB_PASSWORD=your_database_password

# Database Pool Configuration
DB_POOL_MAX=5
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Database Dialect
DB_DIALECT=mssql

# ====================================================================
# JWT AUTHENTICATION
# ====================================================================
# Generate a strong random secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d

# ====================================================================
# VNPAY PAYMENT GATEWAY
# ====================================================================
# Get these from VNPay merchant registration
VNPAY_TMN_CODE=your_vnpay_tmn_code
VNPAY_HASH_SECRET=your_vnpay_hash_secret
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
VNPAY_RETURN_URL=http://localhost:3000/api/payment/vnpay/return
VNPAY_API_URL=https://sandbox.vnpayment.vn/merchant_webapi/api/transaction

# ====================================================================
# FILE UPLOAD CONFIGURATION
# ====================================================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880
# Max file size in bytes (5MB = 5242880 bytes)

ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# ====================================================================
# RATE LIMITING
# ====================================================================
# General rate limit
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes = 900000 ms
RATE_LIMIT_MAX_REQUESTS=100

# Auth rate limit (stricter)
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# ====================================================================
# LOGGING
# ====================================================================
LOG_LEVEL=info
# Options: error, warn, info, debug
LOG_DIR=logs

# ====================================================================
# ADMIN DEFAULT ACCOUNT
# ====================================================================
# Used by create-default-admin.js script
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
ADMIN_EMAIL=admin@toystore.com
ADMIN_NAME=Administrator

# ====================================================================
# OPTIONAL: EMAIL CONFIGURATION (Future feature)
# ====================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# EMAIL_FROM=Toystore <noreply@toystore.com>

# ====================================================================
# OPTIONAL: REDIS CONFIGURATION (Future feature)
# ====================================================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ====================================================================
# OPTIONAL: SENTRY ERROR TRACKING (Future feature)
# ====================================================================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ====================================================================
# NOTES
# ====================================================================
# 1. Never commit .env to Git - it's in .gitignore
# 2. Use strong JWT_SECRET in production
# 3. Change default admin credentials after first login
# 4. Keep VNPAY credentials secure
# 5. Update CORS_ORIGIN to your production domain
# 6. Set NODE_ENV=production in production environment
