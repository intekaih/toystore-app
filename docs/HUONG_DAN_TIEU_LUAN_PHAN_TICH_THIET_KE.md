# ğŸ“š HÆ¯á»šNG DáºªN LÃ€M TIá»‚U LUáº¬N MÃ”N PHÃ‚N TÃCH & THIáº¾T Káº¾ PHáº¦N Má»€M
## Dá»±a trÃªn dá»± Ã¡n ToyStore

---

## ğŸ¯ Má»¤C TIÃŠU

Táº¡o má»™t bÃ i tiá»ƒu luáº­n **sÃ¡ng táº¡o, khÃ¡c biá»‡t** vÃ  **Ä‘Ã¡nh giÃ¡ cao** vá» quÃ¡ trÃ¬nh PhÃ¢n tÃ­ch & Thiáº¿t káº¿ pháº§n má»m dá»±a trÃªn dá»± Ã¡n ToyStore thá»±c táº¿.

---

## ğŸ“‹ Cáº¤U TRÃšC Äá»€ XUáº¤T CHO TIá»‚U LUáº¬N

### **PHáº¦N 1: GIá»šI THIá»†U Dá»° ÃN (2-3 trang)**

#### 1.1. Tá»•ng quan dá»± Ã¡n ToyStore
- **MÃ´ táº£**: Há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ chuyÃªn bÃ¡n Ä‘á»“ chÆ¡i
- **Má»¥c tiÃªu**: Táº¡o ná»n táº£ng online cho viá»‡c mua bÃ¡n Ä‘á»“ chÆ¡i
- **Äá»‘i tÆ°á»£ng sá»­ dá»¥ng**: 
  - KhÃ¡ch hÃ ng (mua hÃ ng)
  - Admin (quáº£n lÃ½)
  - Staff (nhÃ¢n viÃªn)

#### 1.2. LÃ½ do chá»n dá»± Ã¡n
- âœ… Dá»± Ã¡n thá»±c táº¿, Ä‘Ã£ triá»ƒn khai
- âœ… Ãp dá»¥ng nhiá»u Design Patterns (Decorator, Strategy, Singleton)
- âœ… Kiáº¿n trÃºc rÃµ rÃ ng (3-tier)
- âœ… CÃ³ Ä‘áº§y Ä‘á»§ tÃ i liá»‡u ká»¹ thuáº­t

---

### **PHáº¦N 2: PHÃ‚N TÃCH YÃŠU Cáº¦U (5-7 trang)**

#### 2.1. Quy trÃ¬nh thu tháº­p yÃªu cáº§u
- **PhÆ°Æ¡ng phÃ¡p**: Phá»ng váº¥n, kháº£o sÃ¡t, phÃ¢n tÃ­ch thá»‹ trÆ°á»ng
- **Tham kháº£o**: Product Management Tower (tá»« tÃ i liá»‡u mÃ´n há»c)

#### 2.2. YÃªu cáº§u ngÆ°á»i dÃ¹ng (User Requirements)

##### 2.2.1. YÃªu cáº§u chá»©c nÄƒng (Functional Requirements)

**A. Quáº£n lÃ½ ngÆ°á»i dÃ¹ng:**
- FR-1.1: ÄÄƒng kÃ½/ÄÄƒng nháº­p (JWT Authentication)
- FR-1.2: Quáº£n lÃ½ profile cÃ¡ nhÃ¢n
- FR-1.3: Quáº£n lÃ½ Ä‘á»‹a chá»‰ giao hÃ ng
- FR-1.4: Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng

**B. Quáº£n lÃ½ sáº£n pháº©m:**
- FR-2.1: TÃ¬m kiáº¿m sáº£n pháº©m (theo tÃªn, danh má»¥c, thÆ°Æ¡ng hiá»‡u)
- FR-2.2: Lá»c vÃ  sáº¯p xáº¿p sáº£n pháº©m (Strategy Pattern)
  - Sáº¯p xáº¿p theo: Má»›i nháº¥t, GiÃ¡ tÄƒng/giáº£m, BÃ¡n cháº¡y nháº¥t
- FR-2.3: Xem chi tiáº¿t sáº£n pháº©m (áº£nh, mÃ´ táº£, Ä‘Ã¡nh giÃ¡)
- FR-2.4: ÄÃ¡nh giÃ¡ vÃ  nháº­n xÃ©t sáº£n pháº©m

**C. Quáº£n lÃ½ giá» hÃ ng:**
- FR-3.1: ThÃªm/XÃ³a/Cáº­p nháº­t sáº£n pháº©m trong giá» hÃ ng
- FR-3.2: Giá» hÃ ng cho khÃ¡ch vÃ£ng lai (localStorage)
- FR-3.3: TÃ­nh tá»•ng tiá»n tá»± Ä‘á»™ng

**D. Quáº£n lÃ½ Ä‘Æ¡n hÃ ng:**
- FR-4.1: Táº¡o Ä‘Æ¡n hÃ ng tá»« giá» hÃ ng
- FR-4.2: TÃ­nh giÃ¡ Ä‘Æ¡n hÃ ng vá»›i Decorator Pattern:
  - GiÃ¡ gá»‘c
  - + VAT (10%)
  - - Voucher (náº¿u cÃ³)
  - + PhÃ­ váº­n chuyá»ƒn (hoáº·c miá»…n phÃ­ náº¿u â‰¥ 500K)
- FR-4.3: Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
- FR-4.4: Há»§y Ä‘Æ¡n hÃ ng (chá»‰ khi "Chá» xá»­ lÃ½")

**E. Thanh toÃ¡n:**
- FR-5.1: TÃ­ch há»£p VNPay payment gateway
- FR-5.2: Xá»­ lÃ½ webhook tá»« VNPay
- FR-5.3: Cáº­p nháº­t tráº¡ng thÃ¡i thanh toÃ¡n

**F. Quáº£n trá»‹ (Admin):**
- FR-6.1: Quáº£n lÃ½ sáº£n pháº©m (CRUD)
- FR-6.2: Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- FR-6.3: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- FR-6.4: Quáº£n lÃ½ voucher
- FR-6.5: Thá»‘ng kÃª doanh thu, sáº£n pháº©m

##### 2.2.2. YÃªu cáº§u phi chá»©c nÄƒng (Non-Functional Requirements)

**A. Hiá»‡u suáº¥t (Performance):**
- NFR-1.1: Thá»i gian táº£i trang < 3 giÃ¢y
- NFR-1.2: Há»— trá»£ Ä‘á»“ng thá»i 1000+ ngÆ°á»i dÃ¹ng
- NFR-1.3: API response time < 500ms

**B. Báº£o máº­t (Security):**
- NFR-2.1: MÃ£ hÃ³a máº­t kháº©u (bcrypt)
- NFR-2.2: JWT token authentication
- NFR-2.3: Rate limiting (chá»‘ng DDoS)
- NFR-2.4: SQL injection protection (Sequelize ORM)

**C. Kháº£ nÄƒng sá»­ dá»¥ng (Usability):**
- NFR-3.1: Giao diá»‡n responsive (mobile, tablet, desktop)
- NFR-3.2: UI/UX thÃ¢n thiá»‡n, dá»… sá»­ dá»¥ng
- NFR-3.3: Há»— trá»£ Ä‘a ngÃ´n ngá»¯ (tiáº¿ng Viá»‡t)

**D. Äá»™ tin cáº­y (Reliability):**
- NFR-4.1: Uptime 99.9%
- NFR-4.2: Database backup tá»± Ä‘á»™ng
- NFR-4.3: Transaction rollback khi lá»—i

**E. Kháº£ nÄƒng má»Ÿ rá»™ng (Scalability):**
- NFR-5.1: Dá»… dÃ ng thÃªm tÃ­nh nÄƒng má»›i (nhá» Design Patterns)
- NFR-5.2: Há»— trá»£ horizontal scaling

#### 2.3. YÃªu cáº§u nghiá»‡p vá»¥ (Domain Requirements)

**A. Quáº£n lÃ½ kho:**
- DR-1: Tá»± Ä‘á»™ng trá»« tá»“n kho khi Ä‘áº·t hÃ ng thÃ nh cÃ´ng
- DR-2: KhÃ´ng cho phÃ©p Ä‘áº·t hÃ ng náº¿u háº¿t hÃ ng
- DR-3: HoÃ n láº¡i tá»“n kho khi há»§y Ä‘Æ¡n hÃ ng

**B. Quáº£n lÃ½ giÃ¡:**
- DR-4: TÃ­nh giÃ¡ Ä‘Æ¡n hÃ ng theo cÃ´ng thá»©c:
  ```
  Tá»•ng tiá»n = TienGoc + TienVAT - TienGiamGia + PhiVanChuyen
  ```
- DR-5: VAT máº·c Ä‘á»‹nh 10%
- DR-6: Miá»…n phÃ­ váº­n chuyá»ƒn náº¿u Ä‘Æ¡n hÃ ng â‰¥ 500.000Ä‘

**C. Quáº£n lÃ½ voucher:**
- DR-7: Má»—i voucher chá»‰ dÃ¹ng 1 láº§n/khÃ¡ch hÃ ng
- DR-8: Voucher cÃ³ háº¡n sá»­ dá»¥ng
- DR-9: Voucher cÃ³ Ä‘iá»u kiá»‡n Ã¡p dá»¥ng (giÃ¡ trá»‹ Ä‘Æ¡n hÃ ng tá»‘i thiá»ƒu)

#### 2.4. Phi yÃªu cáº§u (Non-Requirements)

- âŒ KhÃ´ng há»— trá»£ thanh toÃ¡n báº±ng tiá»n máº·t
- âŒ KhÃ´ng tÃ­ch há»£p chatbot AI
- âŒ KhÃ´ng tá»± váº­n chuyá»ƒn (dÃ¹ng dá»‹ch vá»¥ bÃªn thá»© 3 - GHN)
- âŒ KhÃ´ng há»— trá»£ Ä‘a ngÃ´n ngá»¯ (chá»‰ tiáº¿ng Viá»‡t)

---

### **PHáº¦N 3: CHá»ŒN MÃ” HÃŒNH PHÃT TRIá»‚N PHáº¦N Má»€M (3-4 trang)**

#### 3.1. PhÃ¢n tÃ­ch vÃ  lá»±a chá»n mÃ´ hÃ¬nh

**MÃ´ hÃ¬nh Ä‘Æ°á»£c chá»n: Agile/Scrum (káº¿t há»£p Iterative)**

**LÃ½ do:**
- âœ… YÃªu cáº§u cÃ³ thá»ƒ thay Ä‘á»•i (thÃªm tÃ­nh nÄƒng má»›i)
- âœ… Cáº§n pháº£n há»“i nhanh tá»« ngÆ°á»i dÃ¹ng
- âœ… PhÃ¡t triá»ƒn theo tá»«ng sprint (2 tuáº§n)
- âœ… PhÃ¹ há»£p vá»›i dá»± Ã¡n e-commerce

#### 3.2. Quy trÃ¬nh phÃ¡t triá»ƒn

**Sprint 1 (2 tuáº§n):**
- Authentication & Authorization
- Quáº£n lÃ½ sáº£n pháº©m cÆ¡ báº£n
- Giá» hÃ ng

**Sprint 2 (2 tuáº§n):**
- Äáº·t hÃ ng
- Thanh toÃ¡n VNPay
- Quáº£n lÃ½ Ä‘Æ¡n hÃ ng

**Sprint 3 (2 tuáº§n):**
- Admin dashboard
- Thá»‘ng kÃª
- Voucher system

**Sprint 4 (2 tuáº§n):**
- Tá»‘i Æ°u hÃ³a (Design Patterns)
- Testing
- Deployment

#### 3.3. So sÃ¡nh vá»›i cÃ¡c mÃ´ hÃ¬nh khÃ¡c

| MÃ´ hÃ¬nh | Æ¯u Ä‘iá»ƒm | NhÆ°á»£c Ä‘iá»ƒm | PhÃ¹ há»£p? |
|---------|---------|------------|----------|
| **Waterfall** | RÃµ rÃ ng, dá»… quáº£n lÃ½ | KhÃ³ thay Ä‘á»•i | âŒ KhÃ´ng |
| **V-Model** | Kiá»ƒm thá»­ tá»‘t | Cá»©ng nháº¯c | âŒ KhÃ´ng |
| **Spiral** | Quáº£n lÃ½ rá»§i ro tá»‘t | Phá»©c táº¡p | âš ï¸ CÃ³ thá»ƒ |
| **Scrum** | Linh hoáº¡t, pháº£n há»“i nhanh | Cáº§n team cÃ³ kinh nghiá»‡m | âœ… **CÃ³** |
| **Iterative** | PhÃ¡t triá»ƒn tá»«ng pháº§n | Cáº§n quáº£n lÃ½ tá»‘t | âœ… **CÃ³** |

---

### **PHáº¦N 4: THIáº¾T Káº¾ KIáº¾N TRÃšC Há»† THá»NG (5-7 trang)**

#### 4.1. Kiáº¿n trÃºc tá»•ng thá»ƒ

**Kiáº¿n trÃºc Ä‘Æ°á»£c chá»n: 3-Tier Architecture (N-tier)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PRESENTATION TIER (Frontend)      â”‚
â”‚   - React.js                        â”‚
â”‚   - Tailwind CSS                    â”‚
â”‚   - Axios (API calls)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BUSINESS LOGIC TIER (Backend)    â”‚
â”‚   - Node.js + Express              â”‚
â”‚   - Controllers                    â”‚
â”‚   - Services                       â”‚
â”‚   - Design Patterns                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ SQL Queries
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DATA TIER (Database)              â”‚
â”‚   - SQL Server                      â”‚
â”‚   - Sequelize ORM                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2. LÃ½ do chá»n 3-Tier Architecture

**Æ¯u Ä‘iá»ƒm:**
- âœ… **TÃ¡ch biá»‡t trÃ¡ch nhiá»‡m**: Frontend, Backend, Database Ä‘á»™c láº­p
- âœ… **Dá»… báº£o trÃ¬**: Sá»­a frontend khÃ´ng áº£nh hÆ°á»Ÿng backend
- âœ… **Kháº£ nÄƒng má»Ÿ rá»™ng**: Scale tá»«ng táº§ng Ä‘á»™c láº­p
- âœ… **Báº£o máº­t**: Database khÃ´ng tiáº¿p xÃºc trá»±c tiáº¿p vá»›i client
- âœ… **TÃ¡i sá»­ dá»¥ng**: API cÃ³ thá»ƒ dÃ¹ng cho web, mobile app

**So sÃ¡nh vá»›i cÃ¡c kiáº¿n trÃºc khÃ¡c:**

| Kiáº¿n trÃºc | Æ¯u Ä‘iá»ƒm | NhÆ°á»£c Ä‘iá»ƒm | PhÃ¹ há»£p? |
|-----------|---------|------------|----------|
| **Monolithic** | ÄÆ¡n giáº£n, hiá»‡u suáº¥t cao | KhÃ³ má»Ÿ rá»™ng | âŒ KhÃ´ng (dá»± Ã¡n lá»›n) |
| **3-Tier** | CÃ¢n báº±ng tá»‘t | Phá»©c táº¡p hÆ¡n monolithic | âœ… **CÃ³** |
| **Microservices** | Ráº¥t linh hoáº¡t | Phá»©c táº¡p, overhead | âŒ KhÃ´ng (dá»± Ã¡n vá»«a) |

#### 4.3. CÃ¡c thÃ nh pháº§n chÃ­nh

**A. Frontend (Presentation Tier):**
- React.js components
- React Router (routing)
- State management (local state + Context API)
- API integration (Axios)

**B. Backend (Business Logic Tier):**
- Express.js server
- Controllers (xá»­ lÃ½ HTTP requests)
- Services (business logic)
- Middlewares (auth, rate limiting, upload)
- Design Patterns:
  - **Decorator Pattern**: TÃ­nh giÃ¡ Ä‘Æ¡n hÃ ng
  - **Strategy Pattern**: Lá»c/sáº¯p xáº¿p sáº£n pháº©m
  - **Singleton Pattern**: DB connection, Logger, Config

**C. Database (Data Tier):**
- SQL Server
- Sequelize ORM
- Models vÃ  Relationships

#### 4.4. SÆ¡ Ä‘á»“ luá»“ng dá»¯ liá»‡u chÃ­nh

**Luá»“ng Ä‘áº·t hÃ ng:**
```
User â†’ Frontend â†’ API Request â†’ Controller â†’ Service â†’ Database
                                      â†“
                              Decorator Pattern (tÃ­nh giÃ¡)
                                      â†“
                              VNPay Integration
                                      â†“
                              Update Database
                                      â†“
                              Response â†’ Frontend â†’ User
```

---

### **PHáº¦N 5: THIáº¾T Káº¾ CHI TIáº¾T (7-10 trang)**

#### 5.1. Thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u

##### 5.1.1. MÃ´ hÃ¬nh quan há»‡ (ERD)

**CÃ¡c báº£ng chÃ­nh:**
- `TaiKhoan` (Users)
- `KhachHang` (Customers)
- `SanPham` (Products)
- `LoaiSP` (Categories)
- `ThuongHieu` (Brands)
- `GioHang` (Carts)
- `GioHangChiTiet` (Cart Items)
- `HoaDon` (Orders)
- `ChiTietHoaDon` (Order Items)
- `Voucher` (Vouchers)
- `DiaChiGiaoHang` (Shipping Addresses)
- `ThongTinVanChuyen` (Shipping Info)
- `DanhGiaSanPham` (Product Reviews)

**Quan há»‡:**
- 1 User â†’ 1 Customer
- 1 Customer â†’ N Orders
- 1 Order â†’ N Order Items
- 1 Product â†’ N Order Items
- 1 Product â†’ N Cart Items
- 1 Order â†’ 1 Shipping Address
- 1 Order â†’ 1 Shipping Info (optional)
- 1 Order â†’ 1 Voucher (optional)

##### 5.1.2. Chuáº©n hÃ³a dá»¯ liá»‡u

- **1NF**: Táº¥t cáº£ cÃ¡c báº£ng Ä‘á»u á»Ÿ dáº¡ng chuáº©n 1
- **2NF**: Loáº¡i bá» phá»¥ thuá»™c hÃ m má»™t pháº§n
- **3NF**: Loáº¡i bá» phá»¥ thuá»™c báº¯c cáº§u

**VÃ­ dá»¥ chuáº©n hÃ³a:**
- `SanPham` tÃ¡ch riÃªng `LoaiSP` vÃ  `ThuongHieu` (trÃ¡nh láº·p láº¡i)
- `ChiTietHoaDon` lÆ°u giÃ¡ táº¡i thá»i Ä‘iá»ƒm mua (khÃ´ng phá»¥ thuá»™c `SanPham.GiaBan` hiá»‡n táº¡i)

#### 5.2. Thiáº¿t káº¿ giao diá»‡n ngÆ°á»i dÃ¹ng (UI/UX)

##### 5.2.1. NguyÃªn táº¯c thiáº¿t káº¿
- **Consistency**: Giao diá»‡n nháº¥t quÃ¡n
- **Simplicity**: ÄÆ¡n giáº£n, dá»… sá»­ dá»¥ng
- **Responsive**: TÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹
- **Accessibility**: Dá»… truy cáº­p

##### 5.2.2. CÃ¡c mÃ n hÃ¬nh chÃ­nh
- Trang chá»§ (Homepage)
- Danh sÃ¡ch sáº£n pháº©m (Product List)
- Chi tiáº¿t sáº£n pháº©m (Product Detail)
- Giá» hÃ ng (Shopping Cart)
- Thanh toÃ¡n (Checkout)
- Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng (Order History)
- Admin Dashboard

#### 5.3. Thiáº¿t káº¿ API

##### 5.3.1. RESTful API Design

**NguyÃªn táº¯c:**
- Sá»­ dá»¥ng HTTP methods: GET, POST, PUT, DELETE, PATCH
- URL rÃµ rÃ ng, cÃ³ nghÄ©a
- Response format nháº¥t quÃ¡n (JSON)

**VÃ­ dá»¥:**
```
GET    /api/products              - Láº¥y danh sÃ¡ch sáº£n pháº©m
GET    /api/products/:id          - Láº¥y chi tiáº¿t sáº£n pháº©m
POST   /api/cart/add              - ThÃªm vÃ o giá» hÃ ng
POST   /api/orders/create         - Táº¡o Ä‘Æ¡n hÃ ng
GET    /api/orders/my-orders      - Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
```

##### 5.3.2. Authentication & Authorization

- **JWT Token**: LÆ°u trong localStorage (frontend)
- **Middleware**: `auth.middleware.js` kiá»ƒm tra token
- **Roles**: `user`, `admin`, `staff`

#### 5.4. Ãp dá»¥ng Design Patterns

##### 5.4.1. Decorator Pattern - TÃ­nh giÃ¡ Ä‘Æ¡n hÃ ng

**Váº¥n Ä‘á»:**
- TÃ­nh giÃ¡ Ä‘Æ¡n hÃ ng phá»©c táº¡p: GiÃ¡ gá»‘c + VAT - Voucher + PhÃ­ ship
- Cáº§n linh hoáº¡t thÃªm/bá»›t cÃ¡c thÃ nh pháº§n giÃ¡

**Giáº£i phÃ¡p: Decorator Pattern**

**Cáº¥u trÃºc:**
```
OrderPriceCalculator (Base Component)
    â†“
OrderPriceDecorator (Base Decorator)
    â”œâ”€â”€ VATDecorator
    â”œâ”€â”€ VoucherDecorator
    â””â”€â”€ ShippingDecorator
```

**Code example:**
```javascript
// Base
let calculator = new OrderPriceCalculator(items);

// ThÃªm VAT
calculator = new VATDecorator(calculator, 0.1); // 10%

// ThÃªm Voucher
calculator = new VoucherDecorator(calculator, voucher);

// ThÃªm Shipping
calculator = new ShippingDecorator(calculator, shippingFee);

// TÃ­nh tá»•ng
const total = calculator.calculate();
```

**Lá»£i Ã­ch:**
- âœ… Linh hoáº¡t: Dá»… thÃªm/bá»›t thÃ nh pháº§n giÃ¡
- âœ… TuÃ¢n thá»§ Open/Closed Principle
- âœ… Code dá»… Ä‘á»c, dá»… báº£o trÃ¬

##### 5.4.2. Strategy Pattern - Lá»c/Sáº¯p xáº¿p sáº£n pháº©m

**Váº¥n Ä‘á»:**
- Nhiá»u cÃ¡ch sáº¯p xáº¿p: Má»›i nháº¥t, GiÃ¡ tÄƒng, GiÃ¡ giáº£m, BÃ¡n cháº¡y
- Náº¿u dÃ¹ng if-else â†’ code dÃ i, khÃ³ má»Ÿ rá»™ng

**Giáº£i phÃ¡p: Strategy Pattern**

**Cáº¥u trÃºc:**
```
ProductFilterStrategy (Interface)
    â”œâ”€â”€ NewestStrategy
    â”œâ”€â”€ PriceAscendingStrategy
    â”œâ”€â”€ PriceDescendingStrategy
    â””â”€â”€ BestSellerStrategy

FilterContext (Context)
```

**Code example:**
```javascript
const context = new FilterContext();
const filteredProducts = context.applyFilter(
    products, 
    'priceAsc',  // Strategy type
    { minPrice: 100000, maxPrice: 500000 }
);
```

**Lá»£i Ã­ch:**
- âœ… Loáº¡i bá» if-else dÃ i
- âœ… Dá»… thÃªm strategy má»›i
- âœ… TÃ¡ch biá»‡t logic lá»c ra khá»i controller

##### 5.4.3. Singleton Pattern - Quáº£n lÃ½ tÃ i nguyÃªn

**Váº¥n Ä‘á»:**
- Database connection: Chá»‰ cáº§n 1 connection pool
- Logger: Chá»‰ cáº§n 1 instance Ä‘á»ƒ ghi log
- Config: Chá»‰ cáº§n 1 instance Ä‘á»ƒ Ä‘á»c config

**Giáº£i phÃ¡p: Singleton Pattern**

**CÃ¡c class Ã¡p dá»¥ng:**
- `DBConnection`: Quáº£n lÃ½ káº¿t ná»‘i database
- `Logger`: Ghi log
- `ConfigService`: Äá»c cáº¥u hÃ¬nh

**Code example:**
```javascript
// Chá»‰ táº¡o 1 instance duy nháº¥t
const dbConnection = DBConnection.getInstance();
const logger = Logger.getInstance();
const config = ConfigService.getInstance();
```

**Lá»£i Ã­ch:**
- âœ… Tiáº¿t kiá»‡m tÃ i nguyÃªn
- âœ… Äáº£m báº£o tÃ­nh nháº¥t quÃ¡n
- âœ… Dá»… quáº£n lÃ½

---

### **PHáº¦N 6: UML DIAGRAMS (5-7 trang)**

#### 6.1. Use Case Diagram

**Actors:**
- Customer (KhÃ¡ch hÃ ng)
- Admin (Quáº£n trá»‹ viÃªn)
- Staff (NhÃ¢n viÃªn)
- System (Há»‡ thá»‘ng)

**Use Cases chÃ­nh:**
- ÄÄƒng kÃ½/ÄÄƒng nháº­p
- Xem sáº£n pháº©m
- TÃ¬m kiáº¿m/Lá»c sáº£n pháº©m
- Quáº£n lÃ½ giá» hÃ ng
- Äáº·t hÃ ng
- Thanh toÃ¡n
- Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin)
- Quáº£n lÃ½ sáº£n pháº©m (Admin)
- Thá»‘ng kÃª (Admin)

#### 6.2. Class Diagram

**CÃ¡c class chÃ­nh:**

**Models:**
- `TaiKhoan`, `KhachHang`, `SanPham`, `HoaDon`, `Voucher`, ...

**Controllers:**
- `ProductController`, `OrderController`, `CartController`, ...

**Services:**
- `AddressService`, `ReviewService`, `GHNService`, ...

**Patterns:**
- `OrderPriceCalculator`, `OrderPriceDecorator`, `VATDecorator`, ...
- `ProductFilterStrategy`, `NewestStrategy`, `PriceAscendingStrategy`, ...
- `DBConnection`, `Logger`, `ConfigService` (Singleton)

**Relationships:**
- Inheritance: `OrderPriceDecorator` â† `VATDecorator`
- Composition: `FilterContext` contains `ProductFilterStrategy[]`
- Association: `HoaDon` â†’ `KhachHang`, `SanPham`

#### 6.3. Sequence Diagram

**Luá»“ng Ä‘áº·t hÃ ng:**
```
User â†’ Frontend â†’ OrderController â†’ OrderService
                                      â†“
                              CartService (láº¥y giá» hÃ ng)
                                      â†“
                              Decorator Pattern (tÃ­nh giÃ¡)
                                      â†“
                              PaymentService (táº¡o VNPay URL)
                                      â†“
                              Database (lÆ°u Ä‘Æ¡n hÃ ng)
                                      â†“
                              Response â†’ Frontend â†’ User
```

**Luá»“ng lá»c sáº£n pháº©m:**
```
User â†’ Frontend â†’ ProductController â†’ FilterContext
                                      â†“
                              Strategy Pattern (chá»n strategy)
                                      â†“
                              ProductFilterStrategy.filter()
                                      â†“
                              Database (query)
                                      â†“
                              Response â†’ Frontend â†’ User
```

#### 6.4. Activity Diagram

**Quy trÃ¬nh Ä‘áº·t hÃ ng:**
1. User thÃªm sáº£n pháº©m vÃ o giá»
2. VÃ o trang Checkout
3. Nháº­p Ä‘á»‹a chá»‰ giao hÃ ng
4. Chá»n voucher (náº¿u cÃ³)
5. Há»‡ thá»‘ng tÃ­nh giÃ¡ (Decorator Pattern)
6. Chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n
7. Thanh toÃ¡n VNPay
8. XÃ¡c nháº­n Ä‘Æ¡n hÃ ng
9. Cáº­p nháº­t tá»“n kho
10. Gá»­i email xÃ¡c nháº­n

#### 6.5. Component Diagram

**Frontend Components:**
- `ProductList`, `ProductDetail`, `Cart`, `Checkout`, `OrderHistory`
- `AdminDashboard`, `ProductManagement`, `OrderManagement`

**Backend Components:**
- `Controllers`, `Services`, `Models`, `Middlewares`
- `Decorators`, `Strategies`, `Utils`

---

### **PHáº¦N 7: ÄÃNH GIÃ VÃ€ Káº¾T LUáº¬N (2-3 trang)**

#### 7.1. ÄÃ¡nh giÃ¡ quÃ¡ trÃ¬nh phÃ¢n tÃ­ch vÃ  thiáº¿t káº¿

**Äiá»ƒm máº¡nh:**
- âœ… YÃªu cáº§u rÃµ rÃ ng, Ä‘áº§y Ä‘á»§
- âœ… Kiáº¿n trÃºc 3-tier phÃ¹ há»£p
- âœ… Ãp dá»¥ng Design Patterns hiá»‡u quáº£
- âœ… Database Ä‘Æ°á»£c chuáº©n hÃ³a tá»‘t
- âœ… API RESTful chuáº©n

**Äiá»ƒm cáº§n cáº£i thiá»‡n:**
- âš ï¸ CÃ³ thá»ƒ thÃªm caching (Redis) Ä‘á»ƒ tÄƒng hiá»‡u suáº¥t
- âš ï¸ CÃ³ thá»ƒ thÃªm unit tests
- âš ï¸ CÃ³ thá»ƒ thÃªm API documentation (Swagger)

#### 7.2. BÃ i há»c kinh nghiá»‡m

1. **PhÃ¢n tÃ­ch yÃªu cáº§u ká»¹ lÆ°á»¡ng** trÆ°á»›c khi code
2. **Chá»n Design Patterns phÃ¹ há»£p** giÃºp code dá»… báº£o trÃ¬
3. **Kiáº¿n trÃºc rÃµ rÃ ng** giÃºp team lÃ m viá»‡c hiá»‡u quáº£
4. **TÃ i liá»‡u Ä‘áº§y Ä‘á»§** giÃºp onboarding nhanh

#### 7.3. HÆ°á»›ng phÃ¡t triá»ƒn tÆ°Æ¡ng lai

- ğŸ”® Microservices architecture (khi scale lá»›n)
- ğŸ”® Real-time notifications (WebSocket)
- ğŸ”® Recommendation system (AI/ML)
- ğŸ”® Mobile app (React Native)
- ğŸ”® Multi-language support

---

## ğŸ¨ Gá»¢I Ã Äá»‚ Táº O Sá»° KHÃC BIá»†T VÃ€ SÃNG Táº O

### 1. **Visual Diagrams**
- Váº½ UML diagrams báº±ng cÃ´ng cá»¥ chuyÃªn nghiá»‡p (Draw.io, Lucidchart)
- ThÃªm mÃ u sáº¯c, icons Ä‘á»ƒ dá»… hiá»ƒu
- Táº¡o sÆ¡ Ä‘á»“ kiáº¿n trÃºc 3D hoáº·c interactive

### 2. **Case Studies Thá»±c Táº¿**
- So sÃ¡nh ToyStore vá»›i cÃ¡c há»‡ thá»‘ng e-commerce khÃ¡c (Shopee, Tiki)
- PhÃ¢n tÃ­ch táº¡i sao chá»n 3-tier thay vÃ¬ microservices
- Giáº£i thÃ­ch lÃ½ do chá»n tá»«ng Design Pattern

### 3. **Metrics & Performance**
- ThÃªm sá»‘ liá»‡u thá»±c táº¿:
  - Response time cá»§a API
  - Sá»‘ lÆ°á»£ng requests/giÃ¢y
  - Database query performance
- So sÃ¡nh trÆ°á»›c/sau khi Ã¡p dá»¥ng Design Patterns

### 4. **Code Examples**
- ÄÆ°a code snippets thá»±c táº¿ tá»« dá»± Ã¡n
- Giáº£i thÃ­ch tá»«ng dÃ²ng code quan trá»ng
- So sÃ¡nh code trÆ°á»›c/sau refactoring

### 5. **User Stories & Personas**
- Táº¡o personas cho tá»«ng loáº¡i ngÆ°á»i dÃ¹ng
- Viáº¿t user stories chi tiáº¿t
- Táº¡o journey map cho user

### 6. **Testing Strategy**
- MÃ´ táº£ chiáº¿n lÆ°á»£c testing (Unit, Integration, E2E)
- Test cases cho cÃ¡c chá»©c nÄƒng chÃ­nh
- Code coverage metrics

### 7. **Deployment & DevOps**
- MÃ´ táº£ quy trÃ¬nh deployment
- CI/CD pipeline (náº¿u cÃ³)
- Monitoring & logging strategy

---

## ğŸ“ CHECKLIST HOÃ€N THIá»†N TIá»‚U LUáº¬N

### Ná»™i dung:
- [ ] Pháº§n 1: Giá»›i thiá»‡u dá»± Ã¡n
- [ ] Pháº§n 2: PhÃ¢n tÃ­ch yÃªu cáº§u (Ä‘áº§y Ä‘á»§ FR, NFR, DR, Non-requirements)
- [ ] Pháº§n 3: MÃ´ hÃ¬nh phÃ¡t triá»ƒn pháº§n má»m
- [ ] Pháº§n 4: Thiáº¿t káº¿ kiáº¿n trÃºc há»‡ thá»‘ng
- [ ] Pháº§n 5: Thiáº¿t káº¿ chi tiáº¿t (Database, UI/UX, API, Design Patterns)
- [ ] Pháº§n 6: UML Diagrams (Use Case, Class, Sequence, Activity, Component)
- [ ] Pháº§n 7: ÄÃ¡nh giÃ¡ vÃ  káº¿t luáº­n

### HÃ¬nh áº£nh/Diagrams:
- [ ] Use Case Diagram
- [ ] Class Diagram
- [ ] Sequence Diagram (Ã­t nháº¥t 2 luá»“ng chÃ­nh)
- [ ] Activity Diagram
- [ ] Component Diagram
- [ ] ERD (Entity Relationship Diagram)
- [ ] Architecture Diagram (3-tier)
- [ ] Design Pattern Diagrams

### Format:
- [ ] BÃ¬a tiá»ƒu luáº­n
- [ ] Má»¥c lá»¥c
- [ ] Danh sÃ¡ch hÃ¬nh áº£nh/báº£ng biá»ƒu
- [ ] TÃ i liá»‡u tham kháº£o
- [ ] Phá»¥ lá»¥c (náº¿u cÃ³)

### Cháº¥t lÆ°á»£ng:
- [ ] KhÃ´ng cÃ³ lá»—i chÃ­nh táº£
- [ ] Format nháº¥t quÃ¡n
- [ ] Sá»‘ trang Ä‘á»§ (20-30 trang)
- [ ] Ná»™i dung sÃ¡ng táº¡o, khÃ¡c biá»‡t

---

## ğŸ› ï¸ CÃ”NG Cá»¤ Há»– TRá»¢

### Váº½ Diagrams:
1. **Draw.io** (https://app.diagrams.net/) - Miá»…n phÃ­, online
2. **Lucidchart** - ChuyÃªn nghiá»‡p, cÃ³ báº£n free
3. **PlantUML** - Code-based, dá»… version control
4. **Visual Paradigm** - ChuyÃªn nghiá»‡p, cÃ³ báº£n student

### Viáº¿t tÃ i liá»‡u:
1. **Microsoft Word** - Chuáº©n, dá»… format
2. **Google Docs** - Collaboration tá»‘t
3. **LaTeX** - ChuyÃªn nghiá»‡p, Ä‘áº¹p
4. **Markdown** - ÄÆ¡n giáº£n, dá»… version control

### TÃ i liá»‡u tham kháº£o:
- TÃ i liá»‡u mÃ´n há»c "PhÃ¢n tÃ­ch vÃ  thiáº¿t káº¿ PM"
- Design Patterns: Elements of Reusable Object-Oriented Software (Gang of Four)
- Clean Architecture (Robert C. Martin)
- Refactoring Guru (https://refactoring.guru/)

---

## ğŸ“š TÃ€I LIá»†U THAM KHáº¢O TRONG Dá»° ÃN

Dá»± Ã¡n ToyStore Ä‘Ã£ cÃ³ sáºµn cÃ¡c tÃ i liá»‡u:
- `docs/patterns/DECORATOR_PATTERN_EXPLAINED.md`
- `docs/patterns/STRATEGY_PATTERN_GUIDE.md`
- `docs/patterns/SINGLETON_PATTERN_GUIDE.md`
- `README.md` - Tá»•ng quan dá»± Ã¡n
- `backend/README.md` - HÆ°á»›ng dáº«n backend

---

## ğŸ¯ Káº¾T LUáº¬N

Vá»›i cáº¥u trÃºc nÃ y, báº¡n sáº½ cÃ³ má»™t bÃ i tiá»ƒu luáº­n:
- âœ… **Äáº§y Ä‘á»§**: Bao phá»§ táº¥t cáº£ ná»™i dung mÃ´n há»c
- âœ… **Thá»±c táº¿**: Dá»±a trÃªn dá»± Ã¡n tháº­t
- âœ… **SÃ¡ng táº¡o**: Ãp dá»¥ng Design Patterns, cÃ³ diagrams Ä‘áº¹p
- âœ… **ChuyÃªn nghiá»‡p**: Format chuáº©n, cÃ³ tÃ i liá»‡u tham kháº£o

**ChÃºc báº¡n thÃ nh cÃ´ng! ğŸš€**

